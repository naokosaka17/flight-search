<ion-view view-title="Fly like a butterfly">
	<ion-content>
		<md-card ng-controller="FlightSearchCtrl">
			<md-card-content>
				<!-- The row for the city select autocomplete list -->
				<md-content>
					<md-autocomplete md-selected-item="ctrl.selectedItem" md-search-text="ctrl.searchText" md-items="item in ctrl.querySearch(ctrl.searchText)" md-item-text="item.display" md-min-length="0" placeholder="Where are you flying from?">
						<md-item-template>
							<span md-highlight-text="ctrl.searchText" md-highlight-flags="^i">{{item.display}}</span>
						</md-item-template>
						<md-not-found>
							No matches found for "{{ctrl.searchText}}".
						</md-not-found>
					</md-autocomplete>

					<md-tooltip>
						Pick the city you want to start from!
					</md-tooltip>
					<p class="md-caption">NYC, CHI and LON work well</p>
				</md-content>
				<!-- The row for the budget and dates -->
				<div layout>
					<md-input-container flex>
						<md-select placeholder="Set your budget" ng-model="info.maxfare">
							<div ng-repeat="p in prices">
								<md-option value="{{p.value}}">{{p.show}}</md-option>
							</div>
						</md-select>
					</md-input-container>
					<md-input-container flex>
						<label>Start date</label>
						<input type="date" ng-model="info.departuredate">
					</md-input-container>
					<md-input-container flex>
						<label>End date</label>
						<input type="date" ng-model="info.returndate">
					</md-input-container>
				</div>

				<!-- The submit button -->
				<div layout>
					<md-button class="md-raised md-primary" ng-click="submit()">Search for destinations!</md-button>
				</div>
			</md-card-content>
		</md-card>
	</ion-content>
</ion-view>
